(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30258,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},28451,e=>{"use strict";var t=e.i(32788),s=e.i(145);let r="3000"===window.location.port?"http://localhost:5023/api":"/api",a=null,n=e=>{a=e};async function i(e,t={}){try{let s=`${r}${e}`,n={"Content-Type":"application/json",...t.headers};a&&(n.Authorization=`Bearer ${a}`);let i=await fetch(s,{...t,headers:n});if(!i.ok)return 401===i.status&&(a=null,localStorage.removeItem("healthhub_token")),{error:`HTTP ${i.status}: ${i.statusText}`};return{data:await i.json()}}catch(e){return{error:e instanceof Error?e.message:"Unknown error"}}}let l=async()=>i("/patients"),d=async(e,t)=>{try{let s="3000"===window.location.port?"http://localhost:5023/auth/token":"/auth/token",r=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!r.ok)return{error:"Authentication failed"};let a=await r.json(),i=a.token||a.access_token;return i&&n(i),{token:i}}catch(e){return{error:e instanceof Error?e.message:"Authentication error"}}};var o=e.i(92648),c=e.i(61099),u=e.i(97140);function m({className:e,type:s,...r}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,u.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.i(76161);var x=e.i(83715),h=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let a=s.forwardRef((e,s)=>{let{asChild:a,...n}=e,i=a?x.Slot:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i,{...n,ref:s})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{}),p=s.forwardRef((e,s)=>(0,t.jsx)(h.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function f({className:e,...s}){return(0,t.jsx)(p,{"data-slot":"label",className:(0,u.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}function g({onSuccess:e}){let[r,a]=(0,s.useState)("test"),[n,i]=(0,s.useState)("test"),[l,u]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),p=async t=>{t.preventDefault(),u(null),h(!0);let s=await d(r,n);s.error?(u(s.error),h(!1)):e()};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,t.jsxs)(c.Card,{className:"w-full max-w-md",children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"HealthHub Login"}),(0,t.jsx)(c.CardDescription,{children:"Access the patient management system"})]}),(0,t.jsxs)(c.CardContent,{children:[(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f,{htmlFor:"username",children:"Username"}),(0,t.jsx)(m,{id:"username",type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Enter username",disabled:x})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f,{htmlFor:"password",children:"Password"}),(0,t.jsx)(m,{id:"password",type:"password",value:n,onChange:e=>i(e.target.value),placeholder:"Enter password",disabled:x})]}),l&&(0,t.jsx)("div",{className:"bg-destructive/10 text-destructive text-sm p-3 rounded",children:l}),(0,t.jsx)(o.Button,{type:"submit",className:"w-full",disabled:x,children:x?"Signing in...":"Sign In"})]}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-muted-foreground",children:["Demo credentials: username: ",(0,t.jsx)("strong",{children:"test"}),", password: ",(0,t.jsx)("strong",{children:"test"})]})]})]})})}p.displayName="Label";var j=e.i(41226),b=e.i(32485),v=e.i(49847);function N(){return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 border-4 border-border border-t-primary rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading patients..."})]})}var w=e.i(47396),y=e.i(62790);let C=(0,e.i(17660).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function S(){let[e,r]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[i,d]=(0,s.useState)(null),[u,x]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{n(!0),d(null);let e=await l();e.error?d(e.error):e.data&&r(e.data),n(!1)})()},[]);let h=e.filter(e=>e.fullName.toLowerCase().includes(u.toLowerCase())||e.firstName.toLowerCase().includes(u.toLowerCase())||e.lastName.toLowerCase().includes(u.toLowerCase()));return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(v.Header,{}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,t.jsx)(y.Users,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Patient Directory"})]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Comprehensive patient database with medical records management"})]}),(0,t.jsxs)(c.Card,{className:"mb-6 border-primary/20",children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{className:"text-lg",children:"Search Patients"}),(0,t.jsx)(c.CardDescription,{children:"Find patients by name or ID"})]}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("div",{className:"relative max-w-md",children:[(0,t.jsx)(C,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(m,{placeholder:"Search by patient name...",value:u,onChange:e=>x(e.target.value),className:"pl-10"})]})})]}),i&&(0,t.jsx)(c.Card,{className:"border-destructive/50 bg-destructive/5 mb-6",children:(0,t.jsxs)(c.CardContent,{className:"flex gap-3 pt-6",children:[(0,t.jsx)(w.AlertCircle,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-destructive",children:"Error loading patients"}),(0,t.jsx)("p",{className:"text-sm text-destructive/80",children:i})]})]})}),a?(0,t.jsx)("div",{className:"flex justify-center py-12",children:(0,t.jsx)(N,{})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-4 text-sm text-muted-foreground",children:["Showing ",h.length," of ",e.length," patient",1!==e.length?"s":""]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.length>0?h.map(e=>(0,t.jsx)(k,{patient:e},e.id)):(0,t.jsx)(c.Card,{className:"col-span-full",children:(0,t.jsxs)(c.CardContent,{className:"pt-12 text-center",children:[(0,t.jsx)(y.Users,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:u?"No patients match your search":"No patients found"}),u&&(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>x(""),children:"Clear search"})]})})})]})]})]})}function k({patient:e}){return(0,t.jsx)(j.default,{href:`/patient/${e.id}`,children:(0,t.jsxs)(c.Card,{className:"h-full hover:border-primary hover:shadow-lg transition-all cursor-pointer group",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)("div",{className:"flex justify-between items-start gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(c.CardTitle,{className:"text-xl group-hover:text-primary transition-colors",children:e.fullName}),(0,t.jsxs)(c.CardDescription,{className:"mt-1",children:["Age: ",e.age," years"]})]})})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-semibold mb-2 uppercase tracking-wide",children:"Last Diagnosis"}),e.lastDiagnosis?(0,t.jsx)(b.Badge,{variant:(e=>{if(!e)return"outline";let t=e.toLowerCase();return t.includes("critical")||t.includes("severe")?"destructive":t.includes("warning")||t.includes("alert")?"default":"secondary"})(e.lastDiagnosis),className:"text-xs",children:e.lastDiagnosis}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"No diagnosis recorded"})]}),(0,t.jsx)("div",{className:"pt-3 border-t border-border",children:(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Member since ",(0,t.jsx)("span",{className:"font-medium",children:new Date(e.createdAt).toLocaleDateString()})]})}),(0,t.jsx)(o.Button,{className:"w-full mt-2",size:"sm",children:"View Details â†’"})]})]})})}function D(){let[e,r]=(0,s.useState)(!1),[i,l]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=localStorage.getItem("healthhub_token");e&&(n(e),r(!0)),l(!1)},[]),i)?null:e?(0,t.jsx)(S,{}):(0,t.jsx)(g,{onSuccess:()=>{let e=a;e&&(localStorage.setItem("healthhub_token",e),r(!0))}})}e.s(["default",()=>D],28451)}]);