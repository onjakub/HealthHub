<?xml version="1.0" encoding="UTF-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:HealthHub.Maui.ViewModels"
             x:DataType="viewmodels:MainViewModel"
             x:Class="HealthHub.Maui.MainPage"
             Title="{Binding Title}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- Header -->
            <Label Text="HealthHub" 
                   FontSize="32" 
                   FontAttributes="Bold" 
                   HorizontalOptions="Center"
                   Margin="0,20,0,40" />

            <!-- Welcome Message -->
            <Label Text="Healthcare Management System" 
                   FontSize="18" 
                   HorizontalOptions="Center"
                   Margin="0,0,0,40" />

            <!-- Authentication Status -->
            <Frame BackgroundColor="{DynamicResource Primary}" 
                   CornerRadius="10" 
                   Padding="20"
                   IsVisible="{Binding IsAuthenticated}">
                <Label Text="âœ“ You are logged in" 
                       FontSize="16" 
                       TextColor="White" 
                       HorizontalOptions="Center" />
            </Frame>

            <Frame BackgroundColor="#FFA500" 
                   CornerRadius="10" 
                   Padding="20"
                   IsVisible="{Binding IsAuthenticated, Converter={StaticResource InvertedBoolConverter}}">
                <Label Text="Please log in to continue" 
                       FontSize="16" 
                       TextColor="White" 
                       HorizontalOptions="Center" />
            </Frame>

            <!-- Navigation Buttons -->
            <VerticalStackLayout Spacing="15">

                <Button Text="Manage Patients" 
                        FontSize="16"
                        Command="{Binding NavigateToPatientsCommand}"
                        BackgroundColor="{DynamicResource Primary}"
                        TextColor="White"
                        CornerRadius="5"
                        Padding="15,10" />

                <Button Text="Login" 
                        FontSize="16"
                        Command="{Binding NavigateToLoginCommand}"
                        BackgroundColor="{DynamicResource Secondary}"
                        TextColor="White"
                        CornerRadius="5"
                        Padding="15,10"
                        IsVisible="{Binding IsAuthenticated, Converter={StaticResource InvertedBoolConverter}}" />

                <Button Text="Logout" 
                        FontSize="16"
                        Command="{Binding LogoutCommand}"
                        BackgroundColor="#DC3545"
                        TextColor="White"
                        CornerRadius="5"
                        Padding="15,10"
                        IsVisible="{Binding IsAuthenticated}" />

            </VerticalStackLayout>

            <!-- Loading Indicator -->
            <ActivityIndicator IsVisible="False" 
                             IsRunning="{Binding IsLoading}" 
                             Color="{DynamicResource Primary}" />

            <!-- Error Message -->
            <Label Text="{Binding ErrorMessage}" 
                   TextColor="#DC3545" 
                   FontSize="14" 
                   IsVisible="{Binding HasError}"
                   HorizontalOptions="Center"
                   Margin="0,20,0,0" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>